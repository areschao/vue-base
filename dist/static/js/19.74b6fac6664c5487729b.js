webpackJsonp([19],{"K+Yr":function(e,t){},QxyU:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"MenuDialog",data:function(){return{dialogFormVisible:!1,MenuManagement:[],checkId:[],roleId:"",boxCheck:[],defaultProps:{children:"subMenu",label:"label"},requestId:Number}},methods:{menu:function(e,t){var s=this;this.requestId=t,this.checkId=[],this.$api.getMenuVo().then(function(i){var a=i.data;s.MenuManagement=a.returnData,s.$api.findMenuById(t).then(function(e){var t=e.data;s.checkId=t.returnData}),s.dialogFormVisible=e})},updatePermissions:function(){var e=this,t=this.$refs.tree.getHalfCheckedKeys();if(this.boxCheck=this.$refs.tree.getCheckedKeys(),0==this.boxCheck.length)this.$message.error("至少选择一个菜单");else{for(var s="",i=0;i<this.boxCheck.length;i++)i==this.boxCheck.length-1?s+=this.boxCheck[i]:s+=this.boxCheck[i]+",";for(i=0;i<t.length;i++)s+=","+t[i];var a={roleId:this.requestId,menuIdStr:s};this.$api.saveMenu(a).then(function(t){"成功"==t.data.codeMsg?(e.$message.success("配置菜单成功"),e.dialogFormVisible=!1):e.$message.error("配置菜单错误")})}}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"配置菜单",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-tree",{ref:"tree",attrs:{data:e.MenuManagement,"show-checkbox":"","node-key":"id","default-expanded-keys":[1],"default-checked-keys":e.checkId,props:e.defaultProps}}),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.updatePermissions}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var n=s("C7Lr")(i,a,!1,function(e){s("K+Yr")},"data-v-0cbb840f",null);t.default=n.exports}});
//# sourceMappingURL=19.74b6fac6664c5487729b.js.map
webpackJsonp([11],{CdZf:function(e,t){},Fu0a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"AddMenuDialog",props:{rowLength:Number},data:function(){var e=function(e,t,r){if(!t)return r(new Error("内容不能为空"));r()};return{parentsMenuList:[],form:{parentId:"",id:null,name:"",seq:"",parentName:"",icon:"",indexUrl:"",description:""},rules:{name:[{required:!0,validator:e,trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],indexUrl:[{required:!0,validator:e,trigger:"blur"}],description:[{required:!0,validator:e,trigger:"blur"}]},dialogFormVisible:!1,formLabelWidth:"120px"}},methods:{loadData:function(){var e=this;this.$api.getMenu().then(function(t){e.parentsMenuList=t.data.returnData})},showDialog:function(e){this.dialogFormVisible=e},addMenu:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.form.seq=t.rowLength,t.$api.addOrUpdateMenu(t.form).then(function(e){t.$message("请填写有效信息");var r=e.data;t.$config.executeResult(r)&&(t.$message.success("操作成功"),t.$refs.form.resetFields(),t.$emit("reloadData"),t.dialogFormVisible=!1)})})},mounted:function(){this.loadData()}}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"新增菜单",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"status-icon":""}},[r("el-form-item",{attrs:{label:"上级菜单","label-width":e.formLabelWidth}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{focus:function(t){e.loadData()}},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}},e._l(e.parentsMenuList,function(e){return r("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[r("el-input",{attrs:{"auto-complete":"on"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"序号","label-width":e.formLabelWidth}},[r("el-input-number",{attrs:{min:1,max:100,label:"序号"},model:{value:e.rowLength,callback:function(t){e.rowLength=t},expression:"rowLength"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图标","label-width":e.formLabelWidth}},[r("el-input",{attrs:{placeholder:"自行查看Font Awesome（网址：http://fontawesome.dashgame.com)","auto-complete":"on"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"url","label-width":e.formLabelWidth,prop:"indexUrl"}},[r("el-input",{attrs:{"auto-complete":"on"},model:{value:e.form.indexUrl,callback:function(t){e.$set(e.form,"indexUrl",t)},expression:"form.indexUrl"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth,prop:"description"}},[r("el-input",{attrs:{type:"textarea","auto-complete":"on"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),r("el-input",{attrs:{type:"hidden","auto-complete":"on"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addMenu("form")}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var l=r("C7Lr")(o,a,!1,function(e){r("CdZf")},null,null);t.default=l.exports}});
//# sourceMappingURL=11.da9d8a927a715631edd1.js.map
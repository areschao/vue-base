webpackJsonp([3,11,14],{"05Bo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"UpdateMenuDialog",data:function(){var e=function(e,t,a){if(!t)return a(new Error("内容不能为空"));a()};return{parentsMenuList:[],form:{parentId:"",id:null,name:"",parentName:"",icon:"",seq:0,indexUrl:"",description:""},rules:{name:[{required:!0,validator:e,trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],indexUrl:[{required:!0,validator:e,trigger:"blur"}],description:[{required:!0,validator:e,trigger:"blur"}]},dialogFormVisible:!1,formLabelWidth:"120px"}},methods:{loadData:function(){var e=this;this.$api.getMenu().then(function(t){e.parentsMenuList=t.data.returnData})},initData:function(e){this.form.parentId=e.parentId,this.form.id=e.id,this.form.description=e.description,this.form.icon=e.icon,this.form.indexUrl=e.indexUrl,this.form.name=e.name,this.form.seq=e.seq,this.form.parentName=e.parentName},showDialog:function(e){this.dialogFormVisible=e},updateMenu:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$api.addOrUpdateMenu(t.form).then(function(e){t.$message("请填写有效信息");var a=e.data;t.$config.executeResult(a)&&(t.$message.success("操作成功"),t.$refs.form.resetFields(),t.$emit("reloadData"),t.dialogFormVisible=!1)})})},mounted:function(){this.loadData()}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增菜单",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"status-icon":""}},[a("el-form-item",{attrs:{label:"上级菜单","label-width":e.formLabelWidth}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{focus:function(t){e.loadData()}},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}},e._l(e.parentsMenuList,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"序号","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:1,max:999,label:"序号"},model:{value:e.form.seq,callback:function(t){e.$set(e.form,"seq",t)},expression:"form.seq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图标","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"自行查看Font Awesome（网址：http://fontawesome.dashgame.com)","auto-complete":"on"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"url","label-width":e.formLabelWidth,prop:"indexUrl"}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.form.indexUrl,callback:function(t){e.$set(e.form,"indexUrl",t)},expression:"form.indexUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth,prop:"description"}},[a("el-input",{attrs:{type:"textarea","auto-complete":"on"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("el-input",{attrs:{type:"hidden","auto-complete":"on"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateMenu("form")}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var r=a("C7Lr")(n,o,!1,function(e){a("ZEFq")},null,null);t.default=r.exports},CdZf:function(e,t){},Fu0a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"AddMenuDialog",props:{rowLength:Number},data:function(){var e=function(e,t,a){if(!t)return a(new Error("内容不能为空"));a()};return{parentsMenuList:[],form:{parentId:"",id:null,name:"",seq:"",parentName:"",icon:"",indexUrl:"",description:""},rules:{name:[{required:!0,validator:e,trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],indexUrl:[{required:!0,validator:e,trigger:"blur"}],description:[{required:!0,validator:e,trigger:"blur"}]},dialogFormVisible:!1,formLabelWidth:"120px"}},methods:{loadData:function(){var e=this;this.$api.getMenu().then(function(t){e.parentsMenuList=t.data.returnData})},showDialog:function(e){this.dialogFormVisible=e},addMenu:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.form.seq=t.rowLength,t.$api.addOrUpdateMenu(t.form).then(function(e){t.$message("请填写有效信息");var a=e.data;t.$config.executeResult(a)&&(t.$message.success("操作成功"),t.$refs.form.resetFields(),t.$emit("reloadData"),t.dialogFormVisible=!1)})})},mounted:function(){this.loadData()}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增菜单",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"status-icon":""}},[a("el-form-item",{attrs:{label:"上级菜单","label-width":e.formLabelWidth}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{focus:function(t){e.loadData()}},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}},e._l(e.parentsMenuList,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"序号","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:1,max:100,label:"序号"},model:{value:e.rowLength,callback:function(t){e.rowLength=t},expression:"rowLength"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图标","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"自行查看Font Awesome（网址：http://fontawesome.dashgame.com)","auto-complete":"on"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"url","label-width":e.formLabelWidth,prop:"indexUrl"}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.form.indexUrl,callback:function(t){e.$set(e.form,"indexUrl",t)},expression:"form.indexUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth,prop:"description"}},[a("el-input",{attrs:{type:"textarea","auto-complete":"on"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("el-input",{attrs:{type:"hidden","auto-complete":"on"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addMenu("form")}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var r=a("C7Lr")(n,o,!1,function(e){a("CdZf")},null,null);t.default=r.exports},GXj5:function(e,t){},ZEFq:function(e,t){},o258:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Fu0a"),o=a("05Bo"),r={data:function(){return{selectRollInfo:"",tableData:[],rowLength:0,loading:!1,currentRow:null,user:{loginName:"",phone:"",name:"",createTime:""}}},components:{AddMenuDialog:n.default,UpdateMenuDialog:o.default},methods:{loadData:function(){var e=this;this.loading=!0,this.$api.getMenu().then(function(t){var a=t.data;e.tableData=a.returnData,e.rowLength=e.tableData.length+1,e.loading=!1})},addMenu:function(){this.$refs.addMenuDialog.showDialog(!0)},updateMenu:function(e,t){this.$refs.updateMenuDialog.initData(t),this.$refs.updateMenuDialog.showDialog(!0)},handleDel:function(e){var t=this;this.$confirm("此操作将永久删除菜单, 是否继续?","提示",{type:"warning"}).then(function(){t.$api.deleteMenu(e.id).then(function(e){0==e.data.code&&t.$message({type:"danger",message:"已删除"}),t.loadData()}).catch(function(e){t.$message.error("删除失败!")})}).catch(function(){t.$message.info("已取消操作!")})},handleCurrentChange:function(e){this.currentRow=e}},mounted:function(){this.loadData()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-body"},[a("div",{staticClass:"box"},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus"},on:{click:function(t){e.addMenu()}}},[e._v("添加")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",staticStyle:{"margin-top":"15px"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"#",type:"index",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"上级菜单",prop:"parentName",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"图标",prop:"icon",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",prop:"description",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"fa fa-edit",attrs:{type:"success",plain:""},on:{click:function(a){e.updateMenu(t.$index,t.row)}}}),e._v(" "),a("el-button",{staticClass:"fa fa-trash-o",attrs:{type:"danger",plain:""},on:{click:function(a){e.handleDel(t.row)}}})]}}])})],1),e._v(" "),a("add-menu-dialog",{ref:"addMenuDialog",attrs:{rowLength:e.rowLength},on:{reloadData:e.loadData}}),e._v(" "),a("update-menu-dialog",{ref:"updateMenuDialog",on:{reloadData:e.loadData}})],1)])},staticRenderFns:[]};var i=a("C7Lr")(r,l,!1,function(e){a("GXj5")},null,null);t.default=i.exports}});
//# sourceMappingURL=3.a16cc1d7a69012c07a9b.js.map